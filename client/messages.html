<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="./libs/bootstrap.css">
    <link rel="stylesheet" href="./style.css">
    <script src="./libs/jquery-1.4.4.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@1,300;1,400&display=swap" rel="stylesheet">
    <title>messages</title>
    <style>
        .message-box {
            min-width: 40vh;
        }
        
        .__loader {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 202;
            margin: 0;
            padding: 0;
            opacity: 1;
            /* background-image: linear-gradient(to right, pink, rgba(255, 0, 0, 0), pink); */
            /* background-color: rgb(219, 196, 200); */
        }
    </style>
</head>


<body style="background-image: linear-gradient(to right, pink, rgba(255, 0, 0, 0), pink);
position: relative;font-family: 'Open Sans', sans-serif;
">




    <!-- modal 2X -->

    <div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalToggleLabel"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    thanks for sending your feedback <br> will help our team to improve
                </div>
                <div class="modal-footer">
                    <!-- <button class="btn btn-primary" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal"></button> -->
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="exampleModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalToggleLabel2"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="modal-body">
                        <form>
                            <div class="mb-3">
                                <label for="recipient-name" class="col-form-label">Email Address:</label>
                                <input type="email" required="true" class="form-control" id="recipient-name">
                            </div>
                            <div class="mb-3">
                                <label for="message-text" class="col-form-label">Message:</label>
                                <textarea class="form-control" id="message-text"></textarea>
                            </div>
                        </form>
                    </div>

                    <!-- Hide this modal and show the first with the button below. -->
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" data-bs-target="#exampleModalToggle" data-bs-toggle="modal">Submit</button>
                </div>
            </div>
        </div>
    </div>
    <a class="btn btn-primary" data-bs-toggle="modal" href="#exampleModalToggle" role="button">Open first modal</a>
    <!-- end of modal 2X -->
    <!-- modal for message -->



    <!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@mdo">Open modal for @mdo</button>
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@fat">Open modal for @fat</button>
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@getbootstrap">Open modal for @getbootstrap</button> -->

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">Email Address:</label>
                            <input type="email" required="true" class="form-control" id="recipient-name">
                        </div>
                        <div class="mb-3">
                            <label for="message-text" class="col-form-label">Message:</label>
                            <textarea class="form-control" id="message-text"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Send message</button>
                </div>
            </div>
        </div>
    </div>




    <!-- end of modal for messages -->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark position-fixed top-0 w-100" style="z-index: 200;">
        <div class="container">
            <a href="#" class="navbar-brand text-danger fs-2" style="color:pink!important">Secret Message</a>
            <div class="navbar-toggler border-none">
                <button class="navbar-toggler border-none" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">

<div class="span navbar-toggler-icon"></div>
                </button>

            </div>

            <div class="collapse navbar-collapse " id="navmenu">
                <ul class="navbar-nav ms-auto">
                    <!-- <li class="nav-item">
                        <a href="./index.html" class="nav-link">Create account</a>
                    </li> -->
                    <!-- <li class="nav-item">
                        <a href="#" class="nav-link">Learn from scratch</a>
                    </li> -->
                    <li class="nav-item">
                        <!-- <span class="nav-link" > -->
                        <button type="button" class="bg-dark text-secondary nav-link border-none fw-bolder btn btn-outline-dark" style="color:pink!important" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                             Logout
                              </button>
                        <!-- </span> -->
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" style="color:pink!important">About</a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- menu here  -->
        <div class="scroll-container position-absolute  w-100 bg-success" id="scroll_container" style="bottom: 0;">
            <div class=" p-1 bg-danger " id="scroll">

            </div>
        </div>

    </nav>
    <!-- end of nav bar here  -->
    <!-- static scroll bar here  -->

    <!-- end of static scroll bar  -->
    <!-- Button trigger modal -->


    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-danger" id="staticBackdropLabel">info!!!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    please you logout please take a screenshot your login details
                    <button class=" text-secondary fw-bolder btn btn-outline-primary" data-bs-dismiss="modal" onclick="alert_()">here</button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="logout" onclick="logout()">Logout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- end of modal here -->

    <div class="container py-5">
        <div class="user-info border border-3 rounded-top" style="margin-top:10rem">
            <div class=" row justify-content-between p-3 g-2">
                <div class=" col-md col-sm p-0 mx-1">
                    <div class="d-flex gap-1 text-center justify-content-center overflow-hidden flex-column">
                        <button type="button" class="btn btn-outline-secondary" style="font-size:0.8rem" id="link"></button>


                        <div id="copy_" class="btn-lg btn-primary w-100">&copy;&nbsp;copy link </div>
                    </div>
                </div>
                <div class="col-md  rounded-1 d-flex gap-1  overflow-hidden flex-column p-0 mx-1" id="logindetails">
                    <span>  <div id="user-id" class="fw-bolder btn btn-outline-warning w-100">ID : &nbsp;</div></span>
                    <span>  <div id="password" class="fw-bolder fw-bolder btn btn-outline-dark w-100">Password : &nbsp;</div></span>
                </div>
                <div class="col-md-12">
                    <span>  <a href="#" id="password" class="fw-bolder fw-bolder btn btn-success w-100">Add to whatsapp</a></span>
                </div>
            </div>
        </div>
    </div>
    <div class="reload 
    position-fixed  p-2 bg-success shadow rounded top-50" onclick="location.reload()" style="z-index: 201;right:10px">
        refreesh page
    </div>
    <h2 id="name" style="z-index:20" class="text-center bg-dark text-danger text-uppercase p-3">Name</h2>

    <div class="row">
        <div class="col-md-10 col-lg-6  m-auto   d-flex justify-content-center align-items-center">
            <div class="row" id="img_container" style="perspective: 100px;">
            </div>
        </div>
    </div>

    <h2 class="text-center fs-1 text-success fw-bolder">Messages</h2>


    <div class="container">

        <div class="message-box row g-4 pb-4">
            <div class="__loader">
                <div class="spinner-border border-top-3" style="width:60px;height:60px;">
                </div>
            </div>
        </div>
    </div>


    <script src="./__messages.js"></script>
    <script>
        const messageBox = document.querySelector(".message-box")
        const isUser = sessionStorage.getItem("login")
        const id = location.search.substring(1)
        console.log(isUser)

        function logout() {
            location.replace("./index.html")
            sessionStorage.removeItem("login")
        }



        function fadeOut() {
            const _last_index = document.getElementById("_last_index")
            const scroll = $("#scroll")[0]
            const cards = [...document.querySelectorAll("._card")]
            const _off_top = _last_index.offsetTop
            const _scroll = window.pageYOffset + window.innerHeight
            const _percent = (_scroll / _off_top) * 100
            scroll.style.width = `${_percent}%`
            const H = (window.innerHeight / 100) * 90
            cards.forEach((_, __) => {
                const _top = _.getBoundingClientRect().top;
                if (_top <= H) {

                    $(_).addClass("opacity");
                } else {
                    $(_).css("opacity", "0");
                    $(_).removeClass("opacity");
                }
            })
        }

        function _scroll(e) {
            fadeOut()
        }
        window.addEventListener("scroll", e => {
            _scroll()
            const scrollHeight = window.pageYOffset
            const navbarHeight = $(".navbar")[0].getBoundingClientRect().height
            const nameHeight = $("#name")[0].offsetTop
                // console.log(nameHeight, scrollHeight)
            if (scrollHeight >= nameHeight - 50) {
                // console.log(navbarHeight)
                // $(".scroll-container").css({
                //     "bottom": -nameHeight + "px"
                // })
                $("#name").addClass("position-fixed w-100").css({
                    "top": navbarHeight
                })
            } else {
                $("#name").removeClass("position-fixed")
                    // $(".scroll-container").css({
                    //     "bottom": 0 + "px"
                    // })
            }

        })
        if (isUser) {
            function alert_() {
                $("#logindetails").addClass("_alert");
                setTimeout(() => {
                    $("#logindetails").removeClass("_alert");
                }, 4000);
            }
            const href = location.href
        } else {
            location.href = `./message.html?${id}`
        }
    </script>
    <script>
        window.addEventListener("load", () => {

            var myModal = new bootstrap.Modal(document.getElementById('exampleModalToggle2'))
            myModal.show()
        })
    </script>
    <script src="./libs/bootstrap.bundle.min.js"></script>
    <span id="_last_index"></span>
</body>

</html